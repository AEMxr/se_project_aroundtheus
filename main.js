!function(){"use strict";class t{constructor(t){let{nameSelector:e,jobSelector:s,avatarSelector:a,stateManager:i}=t;this._nameElement=document.querySelector(e),this._jobElement=document.querySelector(s),this._avatarElement=document.querySelector(a),this._stateManager=i}getUserInfo(){return{name:this._nameElement.textContent,job:this._jobElement.textContent,avatar:this._avatarElement.src}}setUserInfo(t){let{name:e,job:s,avatar:a}=t;e&&(this._nameElement.textContent=e),s&&(this._jobElement.textContent=s),a&&(this._avatarElement.src=a)}}class e{constructor(t){this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(t){"Escape"!==t.key&&"Esc"!==t.key||this.close()}setEventListeners(){this._popupElement.addEventListener("mousedown",(t=>{(t.target.classList.contains("modal_opened")||t.target.classList.contains("modal__close"))&&this.close()}))}}class s extends e{constructor(t,e,s){super(t),this._handleFormSubmit=e,this._form=this._popupElement.querySelector(".form"),this._inputList=Array.from(this._form.querySelectorAll(".form__input")),this._submitButton=this._form.querySelector(".modal__submit"),this._validator=s}close(){super.close(),this._form.reset(),this._validator.resetValidation()}setInputValues(t){this._inputList.forEach((e=>{e.value=t[e.id]}))}_getInputValues(){const t={};return this._inputList.forEach((e=>{t[e.id]=e.value})),t}getForm(){return this._form}getSubmitButton(){return this._submitButton}renderLoading(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitButton.textContent=t?e:"Save"}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(t=>{t.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}}class a extends e{constructor(t){super(t),this._previewImage=document.getElementById("previewImage"),this._popupCaption=document.getElementById("imageViewTitle")}open(t){let{name:e,link:s}=t;this._previewImage.src=s,this._previewImage.alt=e,this._popupCaption.textContent=e,super.open()}}class i extends e{constructor(t){super(t),this._form=this._popupElement.querySelector(".form"),this._handleFormSubmit=()=>{},this._handleFormSubmit=this._handleFormSubmit.bind(this)}setSubmitAction(t){this._handleFormSubmit=t}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(t=>{t.preventDefault(),this._handleFormSubmit()}))}}class r{constructor(t,e,r,n,o){this._api=t,this._profile=e,this._formValidators=r,this._stateManager=n,this._sectionManager=o,this._handleDeleteClick=t=>{this.openPopup("delete");const e=this._popups.delete;e.setSubmitAction((()=>{this._api.deleteCard(t.getId()).then((()=>{t.deleteCard(),e.close()})).catch(console.error)}))},this._handleLikeClick=(t,e)=>this._api.toggleLike(t,e),this._handleImageClick=t=>{this._stateManager.setState({currentModal:"preview"}),this._popups.preview.open(t)},this._popupConfig={profileForm:{selector:"#profileModal",action:"patchUserInformation",formatData:t=>({name:t.name,about:t.description})},avatarEdit:{selector:"#avatarModal",action:"patchAvatar",formatData:t=>({avatar:t.avatar})},imageForm:{selector:"#imageModal",action:"postNewCard",formatData:t=>({name:t.title,link:t.link})}},this._popups={...Object.entries(this._popupConfig).reduce(((t,e)=>{let[a,i]=e;return{...t,[a]:new s(i.selector,(t=>this._handleSubmit(i.action,i.formatData(t))),this._formValidators[a])}}),{}),preview:new a("#previewModal"),delete:new i("#deletConfirmationModal")}}_handleSubmit(t,e){this._stateManager.setState({isLoading:!0,loadingAction:t});const s=this._popups["patchAvatar"===t?"avatarEdit":"postNewCard"===t?"imageForm":"profileForm"],a=s.getSubmitButton();return a.textContent="Saving...",this._api[t](e).then((a=>{if("patchUserInformation"===t)this._stateManager.setState({user:{...this._stateManager.getState().user,name:e.name,job:e.about}});else if("patchAvatar"===t)this._stateManager.setState({user:{...this._stateManager.getState().user,avatar:e.avatar}});else if("postNewCard"===t){const t=this._stateManager.getState().cards,e={name:a.name,link:a.link,_id:a._id,isLiked:!1,owner:a.owner};this._stateManager.setState({cards:[e,...t]}),this._sectionManager.addCard(e)}this._stateManager.setState({currentModal:null,isLoading:!1,loadingAction:null}),s.close()})).catch((t=>{this._stateManager.setState({errors:[...this._stateManager.getState().errors,t],isLoading:!1,loadingAction:null})})).finally((()=>{a.textContent="Save"}))}openPopup(t){if("profileForm"===t){const e=this._stateManager.getState().user;this._popups[t].setInputValues({name:e.name,description:e.job})}this._stateManager.setState({currentModal:t}),this._popups[t].open()}initializePopups(){Object.values(this._popups).forEach((t=>t.setEventListeners()))}}class n{constructor(t,e,s){this._formElement=e,this._stateManager=s,this._submitButton=this._formElement.querySelector(t.submitButtonSelector),this._inputElements=Array.from(this._formElement.querySelectorAll(t.inputSelector)),this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formName=this._formElement.getAttribute("name")}_showInputError(t){const e=this._formElement.querySelector(`#${t.id}-error`);e&&(t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass),this._updateFormState())}_hideInputError(t){const e=this._formElement.querySelector(`#${t.id}-error`);e&&(t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass),this._updateFormState())}_checkInputValidity(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}_hasInvalidInput(){return this._inputElements.some((t=>!t.validity.valid))}_updateFormState(){const t=!this._hasInvalidInput();this._stateManager.setState({forms:{...this._stateManager.getState().forms,[this._formName]:{isValid:t,isDirty:!0}}})}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton(),this._updateFormState()}resetValidation(){this._toggleButtonState(),this._inputElements.forEach((t=>{this._hideInputError(t)}))}_setEventListeners(){this._submitButton&&this._inputElements.forEach((t=>{t.addEventListener("input",(()=>{this._checkInputValidity(t),this._toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(t=>{t.preventDefault()})),this._setEventListeners()}disableButton(){this._disableButton()}}class o{static _toastConfig={duration:5e3,className:"error-toast",iconText:"⚠️"};static _errorMessages={"User Information Request":"Unable to load profile. Please try again.","Initial Cards Request":"Unable to load images. Please refresh the page.","Card Like Update":"Unable to update like status. Please try again.","Card Delete":"Unable to delete card. Please try again.","Profile Update":"Unable to save profile changes. Please try again.",default:"An error occurred. Please try again."};static setStateManager(t){this._stateManager=t}static handleError(t,e){console.error(`Error in ${e}:`,t),this._updateErrorState(t,e),this._showErrorToast(e)}static _updateErrorState(t,e){this._stateManager.setState({errors:[...this._stateManager.getState().errors,{context:e,message:this._getErrorMessage(e),timestamp:Date.now()}]})}static _createToastElement(t){const e=document.createElement("div");e.className=this._toastConfig.className;const s=document.createElement("span");s.className=`${this._toastConfig.className}__icon`,s.textContent=this._toastConfig.iconText;const a=document.createElement("span");a.className=`${this._toastConfig.className}__message`,a.textContent=t;const i=document.createElement("button");return i.className=`${this._toastConfig.className}__close`,i.textContent="×",i.onclick=()=>e.remove(),e.append(s,a,i),e}static _showErrorToast(t){document.querySelector(`.${this._toastConfig.className}`)?.remove();const e=this._createToastElement(this._getErrorMessage(t));document.body.appendChild(e),setTimeout((()=>e.remove()),this._toastConfig.duration)}static _getErrorMessage(t){return this._errorMessages[t]||this._errorMessages.default}static async tryCatch(t,e){try{return await t()}catch(t){throw this.handleError(t,e),t}}}class l{constructor(t){let{baseUrl:e,headers:s}=t;this._baseUrl=e,this._headers=s}_request(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.tryCatch((async()=>{const s={headers:this._headers,...e},a=`${this._baseUrl}${t}`,i=await fetch(a,s);return this._handleServerResponse(i)}),e.errorContext||"API Request")}_getEndpoint(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const s=[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cards"];return t&&s.push(t),e&&s.push(e),`/${s.join("/")}`}_getUserEndpoint(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._getEndpoint("users/me","",t)}async _handleServerResponse(t){if(t.ok)return t.json();throw new Error(`Error: ${t.status}`)}getUserInformation(){return this._request(this._getUserEndpoint(),{errorContext:"User Information Request"})}patchUserInformation(t){return this._request(this._getUserEndpoint(),{method:"PATCH",body:JSON.stringify({name:t.name,about:t.about}),errorContext:"Profile Update"})}patchAvatar(t){return this._request(this._getUserEndpoint("avatar"),{method:"PATCH",body:JSON.stringify({avatar:t.avatar}),errorContext:"Profile Update"})}getInitialCards(){return this._request(this._getEndpoint(),{errorContext:"Initial Cards Request"})}postNewCard(t){return this._request(this._getEndpoint(),{method:"POST",body:JSON.stringify({name:t.name,link:t.link}),errorContext:"Card Creation"})}deleteCard(t){return this._request(this._getEndpoint("cards",t),{method:"DELETE",errorContext:"Card Delete"})}toggleLike(t,e){return this._request(this._getEndpoint("cards",t,"likes"),{method:e?"PUT":"DELETE",errorContext:"Card Like Update"})}}class d{constructor(t,e,s,a,i,r,n){let{name:o,link:l,_id:d,isLiked:h,owner:c}=t;console.log("Card being constructed with isLiked:",h),this._name=o,this._link=l,this._id=d,this._userId=r,this._cardSelector=e,this._handleImageClick=s,this._handleDeleteClick=a,this._handleLikeClick=i,this._isLiked=h,this._owner=c,this.stateManager=n,this._imageLoaded=!1,this._observer=null}getId(){return this._id}_setEventListeners(){this._cardHeart.addEventListener("click",(()=>{this.handleLikeIcon()})),this._cardDelete.addEventListener("click",(()=>{this._handleDeleteButton()})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}_handleDeleteButton(){this._handleDeleteClick(this)}deleteCard(){this._cardElement.remove(),this._cardElement=null,this.stateManager.setState({cards:this.stateManager.getState().cards.filter((t=>t._id!==this._id))})}_setLikeButtonState(){this._isLiked?this._cardHeart.classList.add("card__heart_active"):this._cardHeart.classList.remove("card__heart_active")}handleLikeIcon(){const t=!this._isLiked,e=t?"card__heart_clicked-active":"card__heart_clicked-inactive";this._cardHeart.classList.add(e),this._handleLikeClick(this._id,t).then((()=>{this._isLiked=t,this._setLikeButtonState();const e=this.stateManager.getState().cards.map((e=>e._id===this._id?{...e,isLiked:t}:e));this.stateManager.setState({cards:e})})).finally((()=>{setTimeout((()=>{this._cardHeart.classList.remove(e)}),800)}))}getCardElement(){const t=document.querySelector(this._cardSelector);if(!t)throw new Error(`Template with selector ${this._cardSelector} not found in DOM`);this._cardElement=t.content.cloneNode(!0).querySelector(".card");const e=document.querySelectorAll(".card");return this._cardElement.style.setProperty("--card-index",e.length),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardLabel=this._cardElement.querySelector(".card__label"),this._cardHeart=this._cardElement.querySelector(".card__heart"),this._cardDelete=this._cardElement.querySelector(".card__delete"),this._cardImage.loading="lazy",this._setupIntersectionObserver(),this._cardImage.alt=this._name,this._cardLabel.textContent=this._name,this._isLiked&&this._setLikeButtonState(),this._setEventListeners(),this._cardElement}_setupIntersectionObserver(){this._observer=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&!this._imageLoaded&&(this._cardImage.src=this._link,this._imageLoaded=!0,this._observer.unobserve(this._cardImage))}))}),{rootMargin:"50px"}),this._observer.observe(this._cardImage)}}class h{constructor(t,e,s,a,i,r,n){this._cardSelector=t,this._api=e,this._profile=s,this._cardsGrid=document.querySelector(".cards__grid"),this._handleImageClick=a,this._handleDeleteClick=i,this._handleLikeClick=r,this._stateManager=n,this._initialRenderComplete=!1}renderInitialCards(t){if(Array.isArray(t)&&!this._initialRenderComplete){this._cardsGrid.innerHTML="";for(let e=0;e<t.length;e++){const s=this._createCard(t[e]);this._cardsGrid.append(s)}setTimeout((()=>{this._cardsGrid.style.animation="fadeInDown 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards",this._initialRenderComplete=!0}),100*t.length+500)}}updateCard(t,e){const s=this._cardsGrid.querySelector(`[data-card-id="${t}"]`);if(s){const t=this._createCard(e);s.replaceWith(t)}}_addInitialCard(t){const e=this._createCard(t);this._cardsGrid.prepend(e)}addCard(t){const e=this._createCard(t);this._cardsGrid.prepend(e)}_createCard(t){return new d({name:t.name,link:t.link,_id:t._id,isLiked:t.isLiked,owner:t.owner},this._cardSelector,this._handleImageClick,this._handleDeleteClick,this._handleLikeClick,this._profile._id,this._stateManager).getCardElement()}}class c{constructor(){this.apiConfig={baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"4b5891e6-236c-4083-9664-b0567d688b97","Content-Type":"application/json"}},this.validationConfig={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},this.selectors={cardTemplate:"#card-template",profileName:".profile__name",profileJob:".profile__profession",profileAvatar:".profile__avatar",cardsGrid:".cards__grid",profileEditButton:"#profileEditButton",avatarEditButton:"#avatarEditButton",imageEditButton:"#imageEditButton",profileForm:"#profileModal",avatarForm:"#avatarModal",imageForm:"#imageModal",previewModal:"#previewModal",deleteConfirmModal:"#deletConfirmationModal"},this.buttonConfig={profileEditButton:"profileForm",avatarEditButton:"avatarEdit",imageEditButton:"imageForm"}}getApiConfig(){return this.apiConfig}getValidationConfig(){return this.validationConfig}getSelectors(){return this.selectors}getButtonConfig(){return this.buttonConfig}}class _{constructor(){this._state={user:null,cards:[],isLoading:!1,currentModal:null,errors:[]},this._subscribers=new Set}getState(){return this._state}setState(t){this._state={...this._state,...t},this._notifySubscribers()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}_notifySubscribers(){this._subscribers.forEach((t=>t(this._state)))}}document.forms.profileForm,document.forms.imageForm,document.getElementById("name"),document.getElementById("description"),document.getElementById("title"),document.getElementById("link");const u={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".modal__submit",inactiveButtonClass:"modal__submit_disabled",inputErrorClass:"form__input-error",errorClass:"form__input-error_visible"};class m{constructor(){this.config=new c,this.stateManager=new _,this.api=null,this.profile=null,this.popupManager=null,this.sectionManager=null,this.formValidators=null,this.initialCardsRendered=!1}initializeApi(){return new l(this.config.getApiConfig())}initializeProfile(){const e=this.config.getSelectors();return new t({nameSelector:e.profileName,jobSelector:e.profileJob,avatarSelector:e.profileAvatar,stateManager:this.stateManager})}initializeValidation(t){const e={};return Array.from(document.querySelectorAll(t.formSelector)).forEach((s=>{const a=new n(t,s,this.stateManager);e[s.getAttribute("name")]=a,a.enableValidation()})),e}initializeEventListeners(){const t=this.config.getButtonConfig();Object.entries(t).forEach((t=>{let[e,s]=t;document.getElementById(e).addEventListener("click",(()=>{console.log("Before modal:",this.stateManager.getState()),this.stateManager.setState({currentModal:s}),console.log("After modal:",this.stateManager.getState()),this.popupManager.openPopup(s)}))}))}async initialize(){o.setStateManager(this.stateManager),this.api=this.initializeApi(),this.profile=this.initializeProfile(),this.formValidators=this.initializeValidation(u),this.stateManager.subscribe((t=>{console.log("State updated:",t),t.user&&this.profile.setUserInfo(t.user),t.cards&&t.cards.length>0&&!t.isLoading&&this.sectionManager.renderInitialCards(t.cards)})),this.sectionManager=new h("#card-template",this.api,this.profile,(t=>this.popupManager._handleImageClick(t)),(t=>this.popupManager._handleDeleteClick(t)),((t,e)=>this.popupManager._handleLikeClick(t,e)),this.stateManager),this.popupManager=new r(this.api,this.profile,this.formValidators,this.stateManager,this.sectionManager),this.popupManager.initializePopups(),this.initializeEventListeners(),this.stateManager.setState({isLoading:!0});try{const[t,e]=await Promise.all([this.api.getUserInformation(),this.api.getInitialCards()]);this.stateManager.setState({user:{name:t.name,job:t.about,avatar:t.avatar},cards:e,isLoading:!1})}catch(t){console.error(t),this.stateManager.setState({isLoading:!1})}}}document.addEventListener("DOMContentLoaded",(()=>{(new m).initialize()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxNQUFPQSxFQUNQcEUsV0FBVyxHQUVmLENBQUUsTUFBT21DLEdBQ1BELFFBQVFDLE1BQU1BLEdBQ2Q3RixLQUFLRCxhQUFhcUcsU0FBUyxDQUFFMUMsV0FBVyxHQUMxQyxDQUNGLEVDeEhGeEQsU0FBU3FCLGlCQUFpQixvQkFBb0IsTUFDaEMsSUFBSWdULEdBQ1pVLFlBQVksRyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Vycm9yQm91bmRhcnkuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ29uZmlnTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9TdGF0ZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQXBwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IsIHN0YXRlTWFuYWdlciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N0YXRlTWFuYWdlciA9IHN0YXRlTWFuYWdlcjtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiwgYXZhdGFyIH0pIHtcclxuICAgIC8vIE9ubHkgdXBkYXRlIERPTVxyXG4gICAgaWYgKG5hbWUpIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIGlmIChqb2IpIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBqb2I7XHJcbiAgICBpZiAoYXZhdGFyKSB0aGlzLl9hdmF0YXJFbGVtZW50LnNyYyA9IGF2YXRhcjtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldnQua2V5ID09PSBcIkVzY1wiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9vcGVuZWRcIikgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCwgdmFsaWRhdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19pbnB1dFwiKSk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdFwiKTtcclxuICAgIHRoaXMuX3ZhbGlkYXRvciA9IHZhbGlkYXRvcjtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICAgIHRoaXMuX3ZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxuICB9XHJcblxyXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQuaWRdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0LmlkXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBnZXRGb3JtKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm07XHJcbiAgfVxyXG5cclxuICBnZXRTdWJtaXRCdXR0b24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc3VibWl0QnV0dG9uO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gaXNMb2FkaW5nID8gbG9hZGluZ1RleHQgOiBcIlNhdmVcIjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByZXZpZXdJbWFnZVwiKTtcclxuICAgIHRoaXMuX3BvcHVwQ2FwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2VWaWV3VGl0bGVcIik7XHJcbiAgfVxyXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9ICgpID0+IHt9O1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBhY3Rpb247XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuL0NhcmQuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoYXBpLCBwcm9maWxlLCBmb3JtVmFsaWRhdG9ycywgc3RhdGVNYW5hZ2VyLCBzZWN0aW9uTWFuYWdlcikge1xyXG4gICAgdGhpcy5fYXBpID0gYXBpO1xyXG4gICAgdGhpcy5fcHJvZmlsZSA9IHByb2ZpbGU7XHJcbiAgICB0aGlzLl9mb3JtVmFsaWRhdG9ycyA9IGZvcm1WYWxpZGF0b3JzO1xyXG4gICAgdGhpcy5fc3RhdGVNYW5hZ2VyID0gc3RhdGVNYW5hZ2VyO1xyXG4gICAgdGhpcy5fc2VjdGlvbk1hbmFnZXIgPSBzZWN0aW9uTWFuYWdlcjtcclxuXHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IChjYXJkKSA9PiB7XHJcbiAgICAgIHRoaXMub3BlblBvcHVwKFwiZGVsZXRlXCIpO1xyXG4gICAgICBjb25zdCBkZWxldGVQb3B1cCA9IHRoaXMuX3BvcHVwcy5kZWxldGU7XHJcbiAgICAgIGRlbGV0ZVBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fYXBpXHJcbiAgICAgICAgICAuZGVsZXRlQ2FyZChjYXJkLmdldElkKCkpXHJcbiAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgICAgICBkZWxldGVQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IChjYXJkSWQsIGlzTGlrZWQpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2FwaS50b2dnbGVMaWtlKGNhcmRJZCwgaXNMaWtlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSAoY2FyZERhdGEpID0+IHtcclxuICAgICAgdGhpcy5fc3RhdGVNYW5hZ2VyLnNldFN0YXRlKHsgY3VycmVudE1vZGFsOiBcInByZXZpZXdcIiB9KTtcclxuICAgICAgdGhpcy5fcG9wdXBzLnByZXZpZXcub3BlbihjYXJkRGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX3BvcHVwQ29uZmlnID0ge1xyXG4gICAgICBwcm9maWxlRm9ybToge1xyXG4gICAgICAgIHNlbGVjdG9yOiBcIiNwcm9maWxlTW9kYWxcIixcclxuICAgICAgICBhY3Rpb246IFwicGF0Y2hVc2VySW5mb3JtYXRpb25cIixcclxuICAgICAgICBmb3JtYXREYXRhOiAoZGF0YSkgPT4gKHtcclxuICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgIGFib3V0OiBkYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9LFxyXG4gICAgICBhdmF0YXJFZGl0OiB7XHJcbiAgICAgICAgc2VsZWN0b3I6IFwiI2F2YXRhck1vZGFsXCIsXHJcbiAgICAgICAgYWN0aW9uOiBcInBhdGNoQXZhdGFyXCIsXHJcbiAgICAgICAgZm9ybWF0RGF0YTogKGRhdGEpID0+ICh7IGF2YXRhcjogZGF0YS5hdmF0YXIgfSksXHJcbiAgICAgIH0sXHJcbiAgICAgIGltYWdlRm9ybToge1xyXG4gICAgICAgIHNlbGVjdG9yOiBcIiNpbWFnZU1vZGFsXCIsXHJcbiAgICAgICAgYWN0aW9uOiBcInBvc3ROZXdDYXJkXCIsXHJcbiAgICAgICAgZm9ybWF0RGF0YTogKGRhdGEpID0+ICh7XHJcbiAgICAgICAgICBuYW1lOiBkYXRhLnRpdGxlLFxyXG4gICAgICAgICAgbGluazogZGF0YS5saW5rLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cHMgPSB7XHJcbiAgICAgIC4uLk9iamVjdC5lbnRyaWVzKHRoaXMuX3BvcHVwQ29uZmlnKS5yZWR1Y2UoXHJcbiAgICAgICAgKGFjYywgW25hbWUsIGNvbmZpZ10pID0+ICh7XHJcbiAgICAgICAgICAuLi5hY2MsXHJcbiAgICAgICAgICBbbmFtZV06IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgICAgICAgICBjb25maWcuc2VsZWN0b3IsXHJcbiAgICAgICAgICAgIChmb3JtRGF0YSkgPT5cclxuICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXQoY29uZmlnLmFjdGlvbiwgY29uZmlnLmZvcm1hdERhdGEoZm9ybURhdGEpKSxcclxuICAgICAgICAgICAgdGhpcy5fZm9ybVZhbGlkYXRvcnNbbmFtZV1cclxuICAgICAgICAgICksXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAge31cclxuICAgICAgKSxcclxuICAgICAgcHJldmlldzogbmV3IFBvcHVwV2l0aEltYWdlKFwiI3ByZXZpZXdNb2RhbFwiKSxcclxuICAgICAgZGVsZXRlOiBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiI2RlbGV0Q29uZmlybWF0aW9uTW9kYWxcIiksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZVN1Ym1pdChhY3Rpb24sIGZvcm1EYXRhKSB7XHJcbiAgICB0aGlzLl9zdGF0ZU1hbmFnZXIuc2V0U3RhdGUoe1xyXG4gICAgICBpc0xvYWRpbmc6IHRydWUsXHJcbiAgICAgIGxvYWRpbmdBY3Rpb246IGFjdGlvbixcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGN1cnJlbnRQb3B1cCA9XHJcbiAgICAgIHRoaXMuX3BvcHVwc1tcclxuICAgICAgICBhY3Rpb24gPT09IFwicGF0Y2hBdmF0YXJcIlxyXG4gICAgICAgICAgPyBcImF2YXRhckVkaXRcIlxyXG4gICAgICAgICAgOiBhY3Rpb24gPT09IFwicG9zdE5ld0NhcmRcIlxyXG4gICAgICAgICAgPyBcImltYWdlRm9ybVwiXHJcbiAgICAgICAgICA6IFwicHJvZmlsZUZvcm1cIlxyXG4gICAgICBdO1xyXG5cclxuICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGN1cnJlbnRQb3B1cC5nZXRTdWJtaXRCdXR0b24oKTtcclxuICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2FwaVthY3Rpb25dKGZvcm1EYXRhKVxyXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICBpZiAoYWN0aW9uID09PSBcInBhdGNoVXNlckluZm9ybWF0aW9uXCIpIHtcclxuICAgICAgICAgIHRoaXMuX3N0YXRlTWFuYWdlci5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAuLi50aGlzLl9zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKS51c2VyLFxyXG4gICAgICAgICAgICAgIG5hbWU6IGZvcm1EYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgam9iOiBmb3JtRGF0YS5hYm91dCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInBhdGNoQXZhdGFyXCIpIHtcclxuICAgICAgICAgIHRoaXMuX3N0YXRlTWFuYWdlci5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICAuLi50aGlzLl9zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKS51c2VyLFxyXG4gICAgICAgICAgICAgIGF2YXRhcjogZm9ybURhdGEuYXZhdGFyLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicG9zdE5ld0NhcmRcIikge1xyXG4gICAgICAgICAgY29uc3QgY3VycmVudENhcmRzID0gdGhpcy5fc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuY2FyZHM7XHJcbiAgICAgICAgICBjb25zdCBuZXdDYXJkID0ge1xyXG4gICAgICAgICAgICBuYW1lOiByZXNwb25zZS5uYW1lLFxyXG4gICAgICAgICAgICBsaW5rOiByZXNwb25zZS5saW5rLFxyXG4gICAgICAgICAgICBfaWQ6IHJlc3BvbnNlLl9pZCxcclxuICAgICAgICAgICAgaXNMaWtlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIG93bmVyOiByZXNwb25zZS5vd25lcixcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdGhpcy5fc3RhdGVNYW5hZ2VyLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY2FyZHM6IFtuZXdDYXJkLCAuLi5jdXJyZW50Q2FyZHNdLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgdGhpcy5fc2VjdGlvbk1hbmFnZXIuYWRkQ2FyZChuZXdDYXJkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3N0YXRlTWFuYWdlci5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBjdXJyZW50TW9kYWw6IG51bGwsXHJcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgbG9hZGluZ0FjdGlvbjogbnVsbCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3VycmVudFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICB0aGlzLl9zdGF0ZU1hbmFnZXIuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgZXJyb3JzOiBbLi4udGhpcy5fc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCkuZXJyb3JzLCBlcnJvcl0sXHJcbiAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgbG9hZGluZ0FjdGlvbjogbnVsbCxcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cChuYW1lKSB7XHJcbiAgICBpZiAobmFtZSA9PT0gXCJwcm9maWxlRm9ybVwiKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VyRGF0YSA9IHRoaXMuX3N0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLnVzZXI7XHJcbiAgICAgIHRoaXMuX3BvcHVwc1tuYW1lXS5zZXRJbnB1dFZhbHVlcyh7XHJcbiAgICAgICAgbmFtZTogY3VycmVudFVzZXJEYXRhLm5hbWUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGN1cnJlbnRVc2VyRGF0YS5qb2IsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fc3RhdGVNYW5hZ2VyLnNldFN0YXRlKHsgY3VycmVudE1vZGFsOiBuYW1lIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBzW25hbWVdLm9wZW4oKTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVQb3B1cHMoKSB7XHJcbiAgICBPYmplY3QudmFsdWVzKHRoaXMuX3BvcHVwcykuZm9yRWFjaCgocG9wdXApID0+IHBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCkpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBmb3JtRWxlbWVudCwgc3RhdGVNYW5hZ2VyKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fc3RhdGVNYW5hZ2VyID0gc3RhdGVNYW5hZ2VyO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgb3B0aW9ucy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKG9wdGlvbnMuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gb3B0aW9ucy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBvcHRpb25zLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IG9wdGlvbnMuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IG9wdGlvbnMuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IG9wdGlvbnMuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1OYW1lID0gdGhpcy5fZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpZiAoIWVycm9yTWVzc2FnZUVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuXHJcbiAgICB0aGlzLl91cGRhdGVGb3JtU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpZiAoIWVycm9yTWVzc2FnZUVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcblxyXG4gICAgdGhpcy5fdXBkYXRlRm9ybVN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0RWxlbWVudHMuc29tZShcclxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF91cGRhdGVGb3JtU3RhdGUoKSB7XHJcbiAgICBjb25zdCBpc1ZhbGlkID0gIXRoaXMuX2hhc0ludmFsaWRJbnB1dCgpO1xyXG4gICAgdGhpcy5fc3RhdGVNYW5hZ2VyLnNldFN0YXRlKHtcclxuICAgICAgZm9ybXM6IHtcclxuICAgICAgICAuLi50aGlzLl9zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKS5mb3JtcyxcclxuICAgICAgICBbdGhpcy5fZm9ybU5hbWVdOiB7XHJcbiAgICAgICAgICBpc1ZhbGlkLFxyXG4gICAgICAgICAgaXNEaXJ0eTogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fdXBkYXRlRm9ybVN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgaWYgKCF0aGlzLl9zdWJtaXRCdXR0b24pIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXJyb3JCb3VuZGFyeSB7XHJcbiAgc3RhdGljIF90b2FzdENvbmZpZyA9IHtcclxuICAgIGR1cmF0aW9uOiA1MDAwLFxyXG4gICAgY2xhc3NOYW1lOiBcImVycm9yLXRvYXN0XCIsXHJcbiAgICBpY29uVGV4dDogXCLimqDvuI9cIixcclxuICB9O1xyXG5cclxuICBzdGF0aWMgX2Vycm9yTWVzc2FnZXMgPSB7XHJcbiAgICBcIlVzZXIgSW5mb3JtYXRpb24gUmVxdWVzdFwiOiBcIlVuYWJsZSB0byBsb2FkIHByb2ZpbGUuIFBsZWFzZSB0cnkgYWdhaW4uXCIsXHJcbiAgICBcIkluaXRpYWwgQ2FyZHMgUmVxdWVzdFwiOiBcIlVuYWJsZSB0byBsb2FkIGltYWdlcy4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UuXCIsXHJcbiAgICBcIkNhcmQgTGlrZSBVcGRhdGVcIjogXCJVbmFibGUgdG8gdXBkYXRlIGxpa2Ugc3RhdHVzLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxyXG4gICAgXCJDYXJkIERlbGV0ZVwiOiBcIlVuYWJsZSB0byBkZWxldGUgY2FyZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcclxuICAgIFwiUHJvZmlsZSBVcGRhdGVcIjogXCJVbmFibGUgdG8gc2F2ZSBwcm9maWxlIGNoYW5nZXMuIFBsZWFzZSB0cnkgYWdhaW4uXCIsXHJcbiAgICBkZWZhdWx0OiBcIkFuIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxyXG4gIH07XHJcblxyXG4gIHN0YXRpYyBzZXRTdGF0ZU1hbmFnZXIoc3RhdGVNYW5hZ2VyKSB7XHJcbiAgICB0aGlzLl9zdGF0ZU1hbmFnZXIgPSBzdGF0ZU1hbmFnZXI7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGFuZGxlRXJyb3IoZXJyb3IsIGNvbnRleHQpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluICR7Y29udGV4dH06YCwgZXJyb3IpO1xyXG5cclxuICAgIHRoaXMuX3VwZGF0ZUVycm9yU3RhdGUoZXJyb3IsIGNvbnRleHQpO1xyXG4gICAgdGhpcy5fc2hvd0Vycm9yVG9hc3QoY29udGV4dCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgX3VwZGF0ZUVycm9yU3RhdGUoZXJyb3IsIGNvbnRleHQpIHtcclxuICAgIHRoaXMuX3N0YXRlTWFuYWdlci5zZXRTdGF0ZSh7XHJcbiAgICAgIGVycm9yczogW1xyXG4gICAgICAgIC4uLnRoaXMuX3N0YXRlTWFuYWdlci5nZXRTdGF0ZSgpLmVycm9ycyxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgICAgbWVzc2FnZTogdGhpcy5fZ2V0RXJyb3JNZXNzYWdlKGNvbnRleHQpLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfY3JlYXRlVG9hc3RFbGVtZW50KG1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IHRvYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHRvYXN0LmNsYXNzTmFtZSA9IHRoaXMuX3RvYXN0Q29uZmlnLmNsYXNzTmFtZTtcclxuXHJcbiAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBpY29uLmNsYXNzTmFtZSA9IGAke3RoaXMuX3RvYXN0Q29uZmlnLmNsYXNzTmFtZX1fX2ljb25gO1xyXG4gICAgaWNvbi50ZXh0Q29udGVudCA9IHRoaXMuX3RvYXN0Q29uZmlnLmljb25UZXh0O1xyXG5cclxuICAgIGNvbnN0IG1lc3NhZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBtZXNzYWdlRWxlbWVudC5jbGFzc05hbWUgPSBgJHt0aGlzLl90b2FzdENvbmZpZy5jbGFzc05hbWV9X19tZXNzYWdlYDtcclxuICAgIG1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuXHJcbiAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICBjbG9zZUJ0bi5jbGFzc05hbWUgPSBgJHt0aGlzLl90b2FzdENvbmZpZy5jbGFzc05hbWV9X19jbG9zZWA7XHJcbiAgICBjbG9zZUJ0bi50ZXh0Q29udGVudCA9IFwiw5dcIjtcclxuICAgIGNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiB0b2FzdC5yZW1vdmUoKTtcclxuXHJcbiAgICB0b2FzdC5hcHBlbmQoaWNvbiwgbWVzc2FnZUVsZW1lbnQsIGNsb3NlQnRuKTtcclxuICAgIHJldHVybiB0b2FzdDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBfc2hvd0Vycm9yVG9hc3QoY29udGV4dCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5fdG9hc3RDb25maWcuY2xhc3NOYW1lfWApPy5yZW1vdmUoKTtcclxuXHJcbiAgICBjb25zdCB0b2FzdCA9IHRoaXMuX2NyZWF0ZVRvYXN0RWxlbWVudCh0aGlzLl9nZXRFcnJvck1lc3NhZ2UoY29udGV4dCkpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b2FzdCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB0b2FzdC5yZW1vdmUoKSwgdGhpcy5fdG9hc3RDb25maWcuZHVyYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9nZXRFcnJvck1lc3NhZ2UoY29udGV4dCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Vycm9yTWVzc2FnZXNbY29udGV4dF0gfHwgdGhpcy5fZXJyb3JNZXNzYWdlcy5kZWZhdWx0O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIHRyeUNhdGNoKG9wZXJhdGlvbiwgY29udGV4dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbigpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvciwgY29udGV4dCk7XHJcbiAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgRXJyb3JCb3VuZGFyeSBmcm9tIFwiLi4vY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5LmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX3JlcXVlc3QoZW5kcG9pbnQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgcmV0dXJuIEVycm9yQm91bmRhcnkudHJ5Q2F0Y2goYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBmaW5hbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAuLi5vcHRpb25zLFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLl9iYXNlVXJsfSR7ZW5kcG9pbnR9YDtcclxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsLCBmaW5hbE9wdGlvbnMpO1xyXG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKTtcclxuICAgIH0sIG9wdGlvbnMuZXJyb3JDb250ZXh0IHx8IFwiQVBJIFJlcXVlc3RcIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0RW5kcG9pbnQodHlwZSA9IFwiY2FyZHNcIiwgaWQgPSBcIlwiLCBhY3Rpb24gPSBcIlwiKSB7XHJcbiAgICBjb25zdCBwYXJ0cyA9IFt0eXBlXTtcclxuICAgIGlmIChpZCkgcGFydHMucHVzaChpZCk7XHJcbiAgICBpZiAoYWN0aW9uKSBwYXJ0cy5wdXNoKGFjdGlvbik7XHJcbiAgICByZXR1cm4gYC8ke3BhcnRzLmpvaW4oXCIvXCIpfWA7XHJcbiAgfVxyXG5cclxuICBfZ2V0VXNlckVuZHBvaW50KGFjdGlvbiA9IFwiXCIpIHtcclxuICAgIHJldHVybiB0aGlzLl9nZXRFbmRwb2ludChcInVzZXJzL21lXCIsIFwiXCIsIGFjdGlvbik7XHJcbiAgfVxyXG5cclxuICBhc3luYyBfaGFuZGxlU2VydmVyUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvcm1hdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KHRoaXMuX2dldFVzZXJFbmRwb2ludCgpLCB7XHJcbiAgICAgIGVycm9yQ29udGV4dDogXCJVc2VyIEluZm9ybWF0aW9uIFJlcXVlc3RcIixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcGF0Y2hVc2VySW5mb3JtYXRpb24odXNlckRhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KHRoaXMuX2dldFVzZXJFbmRwb2ludCgpLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogdXNlckRhdGEuYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgICBlcnJvckNvbnRleHQ6IFwiUHJvZmlsZSBVcGRhdGVcIixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcGF0Y2hBdmF0YXIoYXZhdGFyRGF0YSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QodGhpcy5fZ2V0VXNlckVuZHBvaW50KFwiYXZhdGFyXCIpLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJEYXRhLmF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICAgIGVycm9yQ29udGV4dDogXCJQcm9maWxlIFVwZGF0ZVwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCh0aGlzLl9nZXRFbmRwb2ludCgpLCB7XHJcbiAgICAgIGVycm9yQ29udGV4dDogXCJJbml0aWFsIENhcmRzIFJlcXVlc3RcIixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcG9zdE5ld0NhcmQoY2FyZERhdGEpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KHRoaXMuX2dldEVuZHBvaW50KCksIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGNhcmREYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogY2FyZERhdGEubGluayxcclxuICAgICAgfSksXHJcbiAgICAgIGVycm9yQ29udGV4dDogXCJDYXJkIENyZWF0aW9uXCIsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCh0aGlzLl9nZXRFbmRwb2ludChcImNhcmRzXCIsIGNhcmRJZCksIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBlcnJvckNvbnRleHQ6IFwiQ2FyZCBEZWxldGVcIixcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlTGlrZShjYXJkSWQsIGlzTGlraW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCh0aGlzLl9nZXRFbmRwb2ludChcImNhcmRzXCIsIGNhcmRJZCwgXCJsaWtlc1wiKSwge1xyXG4gICAgICBtZXRob2Q6IGlzTGlraW5nID8gXCJQVVRcIiA6IFwiREVMRVRFXCIsXHJcbiAgICAgIGVycm9yQ29udGV4dDogXCJDYXJkIExpa2UgVXBkYXRlXCIsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IG5hbWUsIGxpbmssIF9pZCwgaXNMaWtlZCwgb3duZXIgfSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIGhhbmRsZUxpa2VDbGljayxcclxuICAgIHVzZXJJZCxcclxuICAgIHN0YXRlTWFuYWdlclxyXG4gICkge1xyXG4gICAgY29uc29sZS5sb2coXCJDYXJkIGJlaW5nIGNvbnN0cnVjdGVkIHdpdGggaXNMaWtlZDpcIiwgaXNMaWtlZCk7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5faWQgPSBfaWQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDtcclxuICAgIHRoaXMuX293bmVyID0gb3duZXI7XHJcbiAgICB0aGlzLnN0YXRlTWFuYWdlciA9IHN0YXRlTWFuYWdlcjtcclxuICAgIHRoaXMuX2ltYWdlTG9hZGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLl9vYnNlcnZlciA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRIZWFydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZUxpa2VJY29uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soe1xyXG4gICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXHJcbiAgICAgICAgbGluazogdGhpcy5fbGluayxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVEZWxldGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTdGF0ZSh7XHJcbiAgICAgIGNhcmRzOiB0aGlzLnN0YXRlTWFuYWdlclxyXG4gICAgICAgIC5nZXRTdGF0ZSgpXHJcbiAgICAgICAgLmNhcmRzLmZpbHRlcigoY2FyZCkgPT4gY2FyZC5faWQgIT09IHRoaXMuX2lkKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3NldExpa2VCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRIZWFydC5jbGFzc0xpc3QuYWRkKFwiY2FyZF9faGVhcnRfYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fY2FyZEhlYXJ0LmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19oZWFydF9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVMaWtlSWNvbigpIHtcclxuICAgIGNvbnN0IG5ld0xpa2VTdGF0ZSA9ICF0aGlzLl9pc0xpa2VkO1xyXG4gICAgY29uc3QgYW5pbWF0aW9uQ2xhc3MgPSBuZXdMaWtlU3RhdGVcclxuICAgICAgPyBcImNhcmRfX2hlYXJ0X2NsaWNrZWQtYWN0aXZlXCJcclxuICAgICAgOiBcImNhcmRfX2hlYXJ0X2NsaWNrZWQtaW5hY3RpdmVcIjtcclxuXHJcbiAgICB0aGlzLl9jYXJkSGVhcnQuY2xhc3NMaXN0LmFkZChhbmltYXRpb25DbGFzcyk7XHJcblxyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2lkLCBuZXdMaWtlU3RhdGUpIC8vIENoYW5nZWQgdG8gcGFzcyBuZXdMaWtlU3RhdGVcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lzTGlrZWQgPSBuZXdMaWtlU3RhdGU7XHJcbiAgICAgICAgdGhpcy5fc2V0TGlrZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHRoaXMuc3RhdGVNYW5hZ2VyLmdldFN0YXRlKCk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZENhcmRzID0gY3VycmVudFN0YXRlLmNhcmRzLm1hcCgoY2FyZCkgPT5cclxuICAgICAgICAgIGNhcmQuX2lkID09PSB0aGlzLl9pZCA/IHsgLi4uY2FyZCwgaXNMaWtlZDogbmV3TGlrZVN0YXRlIH0gOiBjYXJkXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLnN0YXRlTWFuYWdlci5zZXRTdGF0ZSh7IGNhcmRzOiB1cGRhdGVkQ2FyZHMgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX2NhcmRIZWFydC5jbGFzc0xpc3QucmVtb3ZlKGFuaW1hdGlvbkNsYXNzKTtcclxuICAgICAgICB9LCA4MDApO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldENhcmRFbGVtZW50KCkge1xyXG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpO1xyXG4gICAgaWYgKCFjYXJkVGVtcGxhdGUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIGBUZW1wbGF0ZSB3aXRoIHNlbGVjdG9yICR7dGhpcy5fY2FyZFNlbGVjdG9yfSBub3QgZm91bmQgaW4gRE9NYFxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNvbnRlbnRcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xyXG5cclxuICAgIGNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkXCIpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWNhcmQtaW5kZXhcIiwgY2FyZHMubGVuZ3RoKTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZExhYmVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19sYWJlbFwiKTtcclxuICAgIHRoaXMuX2NhcmRIZWFydCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faGVhcnRcIik7XHJcbiAgICB0aGlzLl9jYXJkRGVsZXRlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIik7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmxvYWRpbmcgPSBcImxhenlcIjtcclxuICAgIHRoaXMuX3NldHVwSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZExhYmVsLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xyXG4gICAgICB0aGlzLl9zZXRMaWtlQnV0dG9uU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXR1cEludGVyc2VjdGlvbk9ic2VydmVyKCkge1xyXG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXHJcbiAgICAgIChlbnRyaWVzKSA9PiB7XHJcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmICF0aGlzLl9pbWFnZUxvYWRlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgICAgICAgICAgdGhpcy5faW1hZ2VMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9vYnNlcnZlci51bm9ic2VydmUodGhpcy5fY2FyZEltYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHJvb3RNYXJnaW46IFwiNTBweFwiLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy5fY2FyZEltYWdlKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4vQ2FyZC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgYXBpLFxyXG4gICAgcHJvZmlsZSxcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIGhhbmRsZUxpa2VDbGljayxcclxuICAgIHN0YXRlTWFuYWdlclxyXG4gICkge1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fYXBpID0gYXBpO1xyXG4gICAgdGhpcy5fcHJvZmlsZSA9IHByb2ZpbGU7XHJcbiAgICB0aGlzLl9jYXJkc0dyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19ncmlkXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgdGhpcy5fc3RhdGVNYW5hZ2VyID0gc3RhdGVNYW5hZ2VyO1xyXG4gICAgdGhpcy5faW5pdGlhbFJlbmRlckNvbXBsZXRlID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJbml0aWFsQ2FyZHMoY2FyZHMpIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGNhcmRzKSAmJiAhdGhpcy5faW5pdGlhbFJlbmRlckNvbXBsZXRlKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRzR3JpZC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAvLyBBZGQgY2FyZHMgaW4gcmV2ZXJzZSBvcmRlciB1c2luZyBhcHBlbmQgaW5zdGVhZCBvZiBwcmVwZW5kXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FyZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IHRoaXMuX2NyZWF0ZUNhcmQoY2FyZHNbaV0pO1xyXG4gICAgICAgIHRoaXMuX2NhcmRzR3JpZC5hcHBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLl9jYXJkc0dyaWQuc3R5bGUuYW5pbWF0aW9uID1cclxuICAgICAgICAgIFwiZmFkZUluRG93biAwLjhzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSkgZm9yd2FyZHNcIjtcclxuICAgICAgICB0aGlzLl9pbml0aWFsUmVuZGVyQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgICB9LCBjYXJkcy5sZW5ndGggKiAxMDAgKyA1MDApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlQ2FyZChjYXJkSWQsIG5ld0RhdGEpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGhpcy5fY2FyZHNHcmlkLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGBbZGF0YS1jYXJkLWlkPVwiJHtjYXJkSWR9XCJdYFxyXG4gICAgKTtcclxuICAgIGlmIChjYXJkRWxlbWVudCkge1xyXG4gICAgICBjb25zdCB1cGRhdGVkQ2FyZEVsZW1lbnQgPSB0aGlzLl9jcmVhdGVDYXJkKG5ld0RhdGEpO1xyXG4gICAgICBjYXJkRWxlbWVudC5yZXBsYWNlV2l0aCh1cGRhdGVkQ2FyZEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2FkZEluaXRpYWxDYXJkKGNhcmREYXRhKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IHRoaXMuX2NyZWF0ZUNhcmQoY2FyZERhdGEpO1xyXG4gICAgdGhpcy5fY2FyZHNHcmlkLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChjYXJkRGF0YSkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSB0aGlzLl9jcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuICAgIHRoaXMuX2NhcmRzR3JpZC5wcmVwZW5kKGNhcmRFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDYXJkKGNhcmREYXRhKSB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICAgIHtcclxuICAgICAgICBuYW1lOiBjYXJkRGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGNhcmREYXRhLmxpbmssXHJcbiAgICAgICAgX2lkOiBjYXJkRGF0YS5faWQsXHJcbiAgICAgICAgaXNMaWtlZDogY2FyZERhdGEuaXNMaWtlZCxcclxuICAgICAgICBvd25lcjogY2FyZERhdGEub3duZXIsXHJcbiAgICAgIH0sXHJcbiAgICAgIHRoaXMuX2NhcmRTZWxlY3RvcixcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayxcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2ssXHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayxcclxuICAgICAgdGhpcy5fcHJvZmlsZS5faWQsXHJcbiAgICAgIHRoaXMuX3N0YXRlTWFuYWdlclxyXG4gICAgKTtcclxuICAgIHJldHVybiBjYXJkLmdldENhcmRFbGVtZW50KCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpZ01hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5hcGlDb25maWcgPSB7XHJcbiAgICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiNGI1ODkxZTYtMjM2Yy00MDgzLTk2NjQtYjA1NjdkNjg4Yjk3XCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMudmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICAgICAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gICAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICAgICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcclxuICAgICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgICAgIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gICAgICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2VsZWN0b3JzID0ge1xyXG4gICAgICBjYXJkVGVtcGxhdGU6IFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICAgICAgcHJvZmlsZU5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICAgICAgcHJvZmlsZUpvYjogXCIucHJvZmlsZV9fcHJvZmVzc2lvblwiLFxyXG4gICAgICBwcm9maWxlQXZhdGFyOiBcIi5wcm9maWxlX19hdmF0YXJcIixcclxuICAgICAgY2FyZHNHcmlkOiBcIi5jYXJkc19fZ3JpZFwiLFxyXG4gICAgICBwcm9maWxlRWRpdEJ1dHRvbjogXCIjcHJvZmlsZUVkaXRCdXR0b25cIixcclxuICAgICAgYXZhdGFyRWRpdEJ1dHRvbjogXCIjYXZhdGFyRWRpdEJ1dHRvblwiLFxyXG4gICAgICBpbWFnZUVkaXRCdXR0b246IFwiI2ltYWdlRWRpdEJ1dHRvblwiLFxyXG4gICAgICBwcm9maWxlRm9ybTogXCIjcHJvZmlsZU1vZGFsXCIsXHJcbiAgICAgIGF2YXRhckZvcm06IFwiI2F2YXRhck1vZGFsXCIsXHJcbiAgICAgIGltYWdlRm9ybTogXCIjaW1hZ2VNb2RhbFwiLFxyXG4gICAgICBwcmV2aWV3TW9kYWw6IFwiI3ByZXZpZXdNb2RhbFwiLFxyXG4gICAgICBkZWxldGVDb25maXJtTW9kYWw6IFwiI2RlbGV0Q29uZmlybWF0aW9uTW9kYWxcIixcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5idXR0b25Db25maWcgPSB7XHJcbiAgICAgIHByb2ZpbGVFZGl0QnV0dG9uOiBcInByb2ZpbGVGb3JtXCIsXHJcbiAgICAgIGF2YXRhckVkaXRCdXR0b246IFwiYXZhdGFyRWRpdFwiLFxyXG4gICAgICBpbWFnZUVkaXRCdXR0b246IFwiaW1hZ2VGb3JtXCIsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0QXBpQ29uZmlnKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYXBpQ29uZmlnO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmFsaWRhdGlvbkNvbmZpZygpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbGlkYXRpb25Db25maWc7XHJcbiAgfVxyXG5cclxuICBnZXRTZWxlY3RvcnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RvcnM7XHJcbiAgfVxyXG5cclxuICBnZXRCdXR0b25Db25maWcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5idXR0b25Db25maWc7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXRlTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9zdGF0ZSA9IHtcclxuICAgICAgdXNlcjogbnVsbCxcclxuICAgICAgY2FyZHM6IFtdLFxyXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxyXG4gICAgICBjdXJyZW50TW9kYWw6IG51bGwsXHJcbiAgICAgIGVycm9yczogW10sXHJcbiAgICB9O1xyXG4gICAgdGhpcy5fc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7XHJcbiAgfVxyXG5cclxuICBnZXRTdGF0ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcclxuICB9XHJcblxyXG4gIHNldFN0YXRlKG5ld1N0YXRlKSB7XHJcbiAgICB0aGlzLl9zdGF0ZSA9IHsgLi4udGhpcy5fc3RhdGUsIC4uLm5ld1N0YXRlIH07XHJcbiAgICB0aGlzLl9ub3RpZnlTdWJzY3JpYmVycygpO1xyXG4gIH1cclxuXHJcbiAgc3Vic2NyaWJlKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLl9zdWJzY3JpYmVycy5hZGQoY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuICgpID0+IHRoaXMuX3N1YnNjcmliZXJzLmRlbGV0ZShjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICBfbm90aWZ5U3Vic2NyaWJlcnMoKSB7XHJcbiAgICB0aGlzLl9zdWJzY3JpYmVycy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2sodGhpcy5fc3RhdGUpKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3QgZm9ybXMgPSB7XHJcbiAgcHJvZmlsZTogZG9jdW1lbnQuZm9ybXMucHJvZmlsZUZvcm0sXHJcbiAgaW1hZ2U6IGRvY3VtZW50LmZvcm1zLmltYWdlRm9ybSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpbnB1dHMgPSB7XHJcbiAgcHJvZmlsZToge1xyXG4gICAgbmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYW1lXCIpLFxyXG4gICAgZGVzY3JpcHRpb246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVzY3JpcHRpb25cIiksXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdGl0bGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIiksXHJcbiAgICBsaW5rOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpbmtcIiksXHJcbiAgfSxcclxufTtcclxuXHJcbi8qfi0tLS09KT4uIFZhbGlkYXRpb24gY29uZmlndXJhdGlvbiBvYmplY3QgJzwoPS0tLS1+Ki9cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdFwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdF9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC1lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuLyp+LS0tLT0pPi4gUHJvZmlsZSBlbGVtZW50cyAnPCg9LS0tLX4qL1xyXG5leHBvcnQgY29uc3QgY2FyZFNlbGVjdG9yID0gXCIjY2FyZC10ZW1wbGF0ZVwiO1xyXG4iLCJpbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwTWFuYWdlciBmcm9tIFwiLi9Qb3B1cE1hbmFnZXIuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4vRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuL0FwaS5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbk1hbmFnZXIgZnJvbSBcIi4vU2VjdGlvbk1hbmFnZXIuanNcIjtcclxuaW1wb3J0IENvbmZpZ01hbmFnZXIgZnJvbSBcIi4vQ29uZmlnTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgU3RhdGVNYW5hZ2VyIGZyb20gXCIuL1N0YXRlTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgRXJyb3JCb3VuZGFyeSBmcm9tIFwiLi9FcnJvckJvdW5kYXJ5LmpzXCI7XHJcbmltcG9ydCB7IHZhbGlkYXRpb25Db25maWcsIGNhcmRTZWxlY3RvciB9IGZyb20gXCIuLi8uLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNvbmZpZyA9IG5ldyBDb25maWdNYW5hZ2VyKCk7XHJcbiAgICB0aGlzLnN0YXRlTWFuYWdlciA9IG5ldyBTdGF0ZU1hbmFnZXIoKTtcclxuICAgIHRoaXMuYXBpID0gbnVsbDtcclxuICAgIHRoaXMucHJvZmlsZSA9IG51bGw7XHJcbiAgICB0aGlzLnBvcHVwTWFuYWdlciA9IG51bGw7XHJcbiAgICB0aGlzLnNlY3Rpb25NYW5hZ2VyID0gbnVsbDtcclxuICAgIHRoaXMuZm9ybVZhbGlkYXRvcnMgPSBudWxsO1xyXG4gICAgdGhpcy5pbml0aWFsQ2FyZHNSZW5kZXJlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaW5pdGlhbGl6ZUFwaSgpIHtcclxuICAgIHJldHVybiBuZXcgQXBpKHRoaXMuY29uZmlnLmdldEFwaUNvbmZpZygpKTtcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVQcm9maWxlKCkge1xyXG4gICAgY29uc3Qgc2VsZWN0b3JzID0gdGhpcy5jb25maWcuZ2V0U2VsZWN0b3JzKCk7XHJcbiAgICByZXR1cm4gbmV3IFVzZXJJbmZvKHtcclxuICAgICAgbmFtZVNlbGVjdG9yOiBzZWxlY3RvcnMucHJvZmlsZU5hbWUsXHJcbiAgICAgIGpvYlNlbGVjdG9yOiBzZWxlY3RvcnMucHJvZmlsZUpvYixcclxuICAgICAgYXZhdGFyU2VsZWN0b3I6IHNlbGVjdG9ycy5wcm9maWxlQXZhdGFyLFxyXG4gICAgICBzdGF0ZU1hbmFnZXI6IHRoaXMuc3RhdGVNYW5hZ2VyLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpbml0aWFsaXplVmFsaWRhdGlvbihjb25maWcpIHtcclxuICAgIGNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XHJcbiAgICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcclxuICAgICAgICBjb25maWcsXHJcbiAgICAgICAgZm9ybUVsZW1lbnQsXHJcbiAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXJcclxuICAgICAgKTtcclxuICAgICAgZm9ybVZhbGlkYXRvcnNbZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0gPSB2YWxpZGF0b3I7XHJcbiAgICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBmb3JtVmFsaWRhdG9ycztcclxuICB9XHJcblxyXG4gIGluaXRpYWxpemVFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLmNvbmZpZy5nZXRCdXR0b25Db25maWcoKTtcclxuICAgIE9iamVjdC5lbnRyaWVzKGJ1dHRvbnMpLmZvckVhY2goKFtidXR0b25JZCwgcG9wdXBOYW1lXSkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChidXR0b25JZCkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkJlZm9yZSBtb2RhbDpcIiwgdGhpcy5zdGF0ZU1hbmFnZXIuZ2V0U3RhdGUoKSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0U3RhdGUoeyBjdXJyZW50TW9kYWw6IHBvcHVwTmFtZSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkFmdGVyIG1vZGFsOlwiLCB0aGlzLnN0YXRlTWFuYWdlci5nZXRTdGF0ZSgpKTtcclxuICAgICAgICB0aGlzLnBvcHVwTWFuYWdlci5vcGVuUG9wdXAocG9wdXBOYW1lKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XHJcbiAgICBFcnJvckJvdW5kYXJ5LnNldFN0YXRlTWFuYWdlcih0aGlzLnN0YXRlTWFuYWdlcik7XHJcbiAgICB0aGlzLmFwaSA9IHRoaXMuaW5pdGlhbGl6ZUFwaSgpO1xyXG4gICAgdGhpcy5wcm9maWxlID0gdGhpcy5pbml0aWFsaXplUHJvZmlsZSgpO1xyXG4gICAgdGhpcy5mb3JtVmFsaWRhdG9ycyA9IHRoaXMuaW5pdGlhbGl6ZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XHJcblxyXG4gICAgdGhpcy5zdGF0ZU1hbmFnZXIuc3Vic2NyaWJlKChzdGF0ZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlN0YXRlIHVwZGF0ZWQ6XCIsIHN0YXRlKTtcclxuICAgICAgaWYgKHN0YXRlLnVzZXIpIHtcclxuICAgICAgICB0aGlzLnByb2ZpbGUuc2V0VXNlckluZm8oc3RhdGUudXNlcik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHN0YXRlLmNhcmRzICYmIHN0YXRlLmNhcmRzLmxlbmd0aCA+IDAgJiYgIXN0YXRlLmlzTG9hZGluZykge1xyXG4gICAgICAgIHRoaXMuc2VjdGlvbk1hbmFnZXIucmVuZGVySW5pdGlhbENhcmRzKHN0YXRlLmNhcmRzKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIHNlY3Rpb25NYW5hZ2VyIGZpcnN0XHJcbiAgICB0aGlzLnNlY3Rpb25NYW5hZ2VyID0gbmV3IFNlY3Rpb25NYW5hZ2VyKFxyXG4gICAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICAgIHRoaXMuYXBpLFxyXG4gICAgICB0aGlzLnByb2ZpbGUsXHJcbiAgICAgIChjYXJkRGF0YSkgPT4gdGhpcy5wb3B1cE1hbmFnZXIuX2hhbmRsZUltYWdlQ2xpY2soY2FyZERhdGEpLFxyXG4gICAgICAoY2FyZCkgPT4gdGhpcy5wb3B1cE1hbmFnZXIuX2hhbmRsZURlbGV0ZUNsaWNrKGNhcmQpLFxyXG4gICAgICAoY2FyZElkLCBpc0xpa2VkKSA9PiB0aGlzLnBvcHVwTWFuYWdlci5faGFuZGxlTGlrZUNsaWNrKGNhcmRJZCwgaXNMaWtlZCksXHJcbiAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFRoZW4gY3JlYXRlIHBvcHVwTWFuYWdlciB3aXRoIHNlY3Rpb25NYW5hZ2VyXHJcbiAgICB0aGlzLnBvcHVwTWFuYWdlciA9IG5ldyBQb3B1cE1hbmFnZXIoXHJcbiAgICAgIHRoaXMuYXBpLFxyXG4gICAgICB0aGlzLnByb2ZpbGUsXHJcbiAgICAgIHRoaXMuZm9ybVZhbGlkYXRvcnMsXHJcbiAgICAgIHRoaXMuc3RhdGVNYW5hZ2VyLFxyXG4gICAgICB0aGlzLnNlY3Rpb25NYW5hZ2VyXHJcbiAgICApO1xyXG4gICAgdGhpcy5wb3B1cE1hbmFnZXIuaW5pdGlhbGl6ZVBvcHVwcygpO1xyXG5cclxuICAgIHRoaXMuaW5pdGlhbGl6ZUV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgW3VzZXJEYXRhLCBjYXJkc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgdGhpcy5hcGkuZ2V0VXNlckluZm9ybWF0aW9uKCksXHJcbiAgICAgICAgdGhpcy5hcGkuZ2V0SW5pdGlhbENhcmRzKCksXHJcbiAgICAgIF0pO1xyXG5cclxuICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0U3RhdGUoe1xyXG4gICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXHJcbiAgICAgICAgICBqb2I6IHVzZXJEYXRhLmFib3V0LFxyXG4gICAgICAgICAgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjYXJkczogY2FyZHMsXHJcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0ZU1hbmFnZXIuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgQXBwIGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBwLmpzXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgpO1xyXG4gIGFwcC5pbml0aWFsaXplKCk7XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiVXNlckluZm8iLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwic3RhdGVNYW5hZ2VyIiwidGhpcyIsIl9uYW1lRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9qb2JFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJfc3RhdGVNYW5hZ2VyIiwiZ2V0VXNlckluZm8iLCJuYW1lIiwidGV4dENvbnRlbnQiLCJqb2IiLCJhdmF0YXIiLCJzcmMiLCJzZXRVc2VySW5mbyIsIl9yZWYyIiwiUG9wdXAiLCJwb3B1cCIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsInBvcHVwU2VsZWN0b3IiLCJoYW5kbGVGb3JtU3VibWl0IiwidmFsaWRhdG9yIiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX3ZhbGlkYXRvciIsInJlc2V0IiwicmVzZXRWYWxpZGF0aW9uIiwic2V0SW5wdXRWYWx1ZXMiLCJkYXRhIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJpZCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiZ2V0Rm9ybSIsImdldFN1Ym1pdEJ1dHRvbiIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInByZXZlbnREZWZhdWx0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfcHJldmlld0ltYWdlIiwiZ2V0RWxlbWVudEJ5SWQiLCJfcG9wdXBDYXB0aW9uIiwibGluayIsImFsdCIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsInNldFN1Ym1pdEFjdGlvbiIsImFjdGlvbiIsIlBvcHVwTWFuYWdlciIsImFwaSIsInByb2ZpbGUiLCJmb3JtVmFsaWRhdG9ycyIsInNlY3Rpb25NYW5hZ2VyIiwiX2FwaSIsIl9wcm9maWxlIiwiX2Zvcm1WYWxpZGF0b3JzIiwiX3NlY3Rpb25NYW5hZ2VyIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiY2FyZCIsIm9wZW5Qb3B1cCIsImRlbGV0ZVBvcHVwIiwiX3BvcHVwcyIsImRlbGV0ZSIsImRlbGV0ZUNhcmQiLCJnZXRJZCIsInRoZW4iLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsIl9oYW5kbGVMaWtlQ2xpY2siLCJjYXJkSWQiLCJpc0xpa2VkIiwidG9nZ2xlTGlrZSIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiY2FyZERhdGEiLCJzZXRTdGF0ZSIsImN1cnJlbnRNb2RhbCIsInByZXZpZXciLCJfcG9wdXBDb25maWciLCJwcm9maWxlRm9ybSIsInNlbGVjdG9yIiwiZm9ybWF0RGF0YSIsImFib3V0IiwiZGVzY3JpcHRpb24iLCJhdmF0YXJFZGl0IiwiaW1hZ2VGb3JtIiwidGl0bGUiLCJPYmplY3QiLCJlbnRyaWVzIiwicmVkdWNlIiwiYWNjIiwiY29uZmlnIiwiZm9ybURhdGEiLCJfaGFuZGxlU3VibWl0IiwibG9hZGluZ0FjdGlvbiIsImN1cnJlbnRQb3B1cCIsInN1Ym1pdEJ1dHRvbiIsInJlc3BvbnNlIiwidXNlciIsImdldFN0YXRlIiwiY3VycmVudENhcmRzIiwiY2FyZHMiLCJuZXdDYXJkIiwiX2lkIiwib3duZXIiLCJhZGRDYXJkIiwiZXJyb3JzIiwiZmluYWxseSIsImN1cnJlbnRVc2VyRGF0YSIsImluaXRpYWxpemVQb3B1cHMiLCJ2YWx1ZXMiLCJGb3JtVmFsaWRhdG9yIiwib3B0aW9ucyIsImZvcm1FbGVtZW50IiwiX2Zvcm1FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRFbGVtZW50cyIsImlucHV0U2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2VFbGVtZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfdXBkYXRlRm9ybVN0YXRlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsImlzVmFsaWQiLCJmb3JtcyIsImlzRGlydHkiLCJfZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiX2VuYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImVuYWJsZVZhbGlkYXRpb24iLCJlIiwiZGlzYWJsZUJ1dHRvbiIsIkVycm9yQm91bmRhcnkiLCJzdGF0aWMiLCJkdXJhdGlvbiIsImNsYXNzTmFtZSIsImljb25UZXh0IiwiZGVmYXVsdCIsInNldFN0YXRlTWFuYWdlciIsImhhbmRsZUVycm9yIiwiY29udGV4dCIsIl91cGRhdGVFcnJvclN0YXRlIiwiX3Nob3dFcnJvclRvYXN0IiwibWVzc2FnZSIsIl9nZXRFcnJvck1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwiX2NyZWF0ZVRvYXN0RWxlbWVudCIsInRvYXN0IiwiY3JlYXRlRWxlbWVudCIsIl90b2FzdENvbmZpZyIsImljb24iLCJtZXNzYWdlRWxlbWVudCIsImNsb3NlQnRuIiwib25jbGljayIsImFwcGVuZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInNldFRpbWVvdXQiLCJfZXJyb3JNZXNzYWdlcyIsInRyeUNhdGNoIiwib3BlcmF0aW9uIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX3JlcXVlc3QiLCJlbmRwb2ludCIsImFzeW5jIiwiZmluYWxPcHRpb25zIiwidXJsIiwicmVzIiwiZmV0Y2giLCJfaGFuZGxlU2VydmVyUmVzcG9uc2UiLCJlcnJvckNvbnRleHQiLCJfZ2V0RW5kcG9pbnQiLCJwYXJ0cyIsInB1c2giLCJqb2luIiwiX2dldFVzZXJFbmRwb2ludCIsIm9rIiwianNvbiIsIkVycm9yIiwic3RhdHVzIiwiZ2V0VXNlckluZm9ybWF0aW9uIiwicGF0Y2hVc2VySW5mb3JtYXRpb24iLCJ1c2VyRGF0YSIsIm1ldGhvZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXRjaEF2YXRhciIsImF2YXRhckRhdGEiLCJnZXRJbml0aWFsQ2FyZHMiLCJwb3N0TmV3Q2FyZCIsImlzTGlraW5nIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsInVzZXJJZCIsImxvZyIsIl9uYW1lIiwiX2xpbmsiLCJfdXNlcklkIiwiX2NhcmRTZWxlY3RvciIsIl9pc0xpa2VkIiwiX293bmVyIiwiX2ltYWdlTG9hZGVkIiwiX29ic2VydmVyIiwiX2NhcmRIZWFydCIsImhhbmRsZUxpa2VJY29uIiwiX2NhcmREZWxldGUiLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZSIsIl9jYXJkRWxlbWVudCIsImZpbHRlciIsIl9zZXRMaWtlQnV0dG9uU3RhdGUiLCJuZXdMaWtlU3RhdGUiLCJhbmltYXRpb25DbGFzcyIsInVwZGF0ZWRDYXJkcyIsIm1hcCIsImdldENhcmRFbGVtZW50IiwiY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJfY2FyZExhYmVsIiwibG9hZGluZyIsIl9zZXR1cEludGVyc2VjdGlvbk9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwidW5vYnNlcnZlIiwicm9vdE1hcmdpbiIsIm9ic2VydmUiLCJTZWN0aW9uTWFuYWdlciIsIl9jYXJkc0dyaWQiLCJfaW5pdGlhbFJlbmRlckNvbXBsZXRlIiwicmVuZGVySW5pdGlhbENhcmRzIiwiaXNBcnJheSIsImlubmVySFRNTCIsImkiLCJjYXJkRWxlbWVudCIsIl9jcmVhdGVDYXJkIiwiYW5pbWF0aW9uIiwidXBkYXRlQ2FyZCIsIm5ld0RhdGEiLCJ1cGRhdGVkQ2FyZEVsZW1lbnQiLCJyZXBsYWNlV2l0aCIsIl9hZGRJbml0aWFsQ2FyZCIsInByZXBlbmQiLCJDb25maWdNYW5hZ2VyIiwiYXBpQ29uZmlnIiwiYXV0aG9yaXphdGlvbiIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJzZWxlY3RvcnMiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJwcm9maWxlQXZhdGFyIiwiY2FyZHNHcmlkIiwicHJvZmlsZUVkaXRCdXR0b24iLCJhdmF0YXJFZGl0QnV0dG9uIiwiaW1hZ2VFZGl0QnV0dG9uIiwiYXZhdGFyRm9ybSIsInByZXZpZXdNb2RhbCIsImRlbGV0ZUNvbmZpcm1Nb2RhbCIsImJ1dHRvbkNvbmZpZyIsImdldEFwaUNvbmZpZyIsImdldFZhbGlkYXRpb25Db25maWciLCJnZXRTZWxlY3RvcnMiLCJnZXRCdXR0b25Db25maWciLCJTdGF0ZU1hbmFnZXIiLCJfc3RhdGUiLCJfc3Vic2NyaWJlcnMiLCJTZXQiLCJuZXdTdGF0ZSIsIl9ub3RpZnlTdWJzY3JpYmVycyIsInN1YnNjcmliZSIsImNhbGxiYWNrIiwiQXBwIiwicG9wdXBNYW5hZ2VyIiwiaW5pdGlhbENhcmRzUmVuZGVyZWQiLCJpbml0aWFsaXplQXBpIiwiaW5pdGlhbGl6ZVByb2ZpbGUiLCJpbml0aWFsaXplVmFsaWRhdGlvbiIsImluaXRpYWxpemVFdmVudExpc3RlbmVycyIsImJ1dHRvbnMiLCJidXR0b25JZCIsInBvcHVwTmFtZSIsImluaXRpYWxpemUiLCJzdGF0ZSIsIlByb21pc2UiLCJhbGwiXSwic291cmNlUm9vdCI6IiJ9